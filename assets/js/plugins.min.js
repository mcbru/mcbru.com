!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(){var a,b;a=function(){function a(a,b){var c,d;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof a)for(c in a)d=a[c],this.options[c]=d;this.context=null!=b?b:this,this.unique=this._genKey()}return a.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},a.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},a.prototype.run=function(b){var c,d,e;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(e=document.createElement("script"),e.id="instafeed-fetcher",e.src=b||this._buildUrl(),c=document.getElementsByTagName("head"),c[0].appendChild(e),d="instafeedCache"+this.unique,window[d]=new a(this.options,this),window[d].unique=this.unique),!0},a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if("object"!=typeof a){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==a.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,a.meta.error_message),!1;throw new Error("Error from Instagram: "+a.meta.error_message)}if(0===a.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,a),this.context.nextUrl="",null!=a.pagination&&(this.context.nextUrl=a.pagination.next_url),"none"!==this.options.sortBy)switch(o="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),n="least"===o[0]?!0:!1,o[1]){case"random":a.data.sort(function(){return.5-Math.random()});break;case"recent":a.data=this._sortBy(a.data,"created_time",n);break;case"liked":a.data=this._sortBy(a.data,"likes.count",n);break;case"commented":a.data=this._sortBy(a.data,"comments.count",n);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(i=a.data,null!=this.options.limit&&i.length>this.options.limit&&(i=i.slice(0,this.options.limit+1||9e9)),c=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(i=this._filter(i,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(e="",g="",k="",p=document.createElement("div"),q=0,t=i.length;t>q;q++)f=i[q],h=f.images[this.options.resolution].url,this.options.useHttp||(h=h.replace("http://","//")),g=this._makeTemplate(this.options.template,{model:f,id:f.id,link:f.link,image:h,caption:this._getObjectProperty(f,"caption.text"),likes:f.likes.count,comments:f.comments.count,location:this._getObjectProperty(f,"location.name")}),e+=g;for(p.innerHTML=e,w=[].slice.call(p.childNodes),r=0,u=w.length;u>r;r++)m=w[r],c.appendChild(m)}else for(s=0,v=i.length;v>s;s++)f=i[s],j=document.createElement("img"),h=f.images[this.options.resolution].url,this.options.useHttp||(h=h.replace("http://","//")),j.src=h,this.options.links===!0?(b=document.createElement("a"),b.href=f.link,b.appendChild(j),c.appendChild(b)):c.appendChild(j);document.getElementById(this.options.target).appendChild(c),d=document.getElementsByTagName("head")[0],d.removeChild(document.getElementById("instafeed-fetcher")),l="instafeedCache"+this.unique,window[l]=void 0;try{delete window[l]}catch(x){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},a.prototype._buildUrl=function(){var a,b,c;switch(a="https://api.instagram.com/v1",this.options.get){case"popular":b="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");b="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");b="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");b="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return c=""+a+"/"+b,c+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(c+="&count="+this.options.limit),c+="&callback=instafeedCache"+this.unique+".parse"},a.prototype._genKey=function(){var a;return a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+a()+a()+a()+a()},a.prototype._makeTemplate=function(a,b){var c,d,e,f,g;for(d=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,c=a;d.test(c);)e=c.match(d)[1],f=null!=(g=this._getObjectProperty(b,e))?g:"",c=c.replace(d,""+f);return c},a.prototype._getObjectProperty=function(a,b){var c,d;for(b=b.replace(/\[(\w+)\]/g,".$1"),d=b.split(".");d.length;){if(c=d.shift(),!(null!=a&&c in a))return null;a=a[c]}return a},a.prototype._sortBy=function(a,b,c){var d;return d=function(a,d){var e,f;return e=this._getObjectProperty(a,b),f=this._getObjectProperty(d,b),c?e>f?1:-1:f>e?1:-1},a.sort(d.bind(this)),a},a.prototype._filter=function(a,b){var c,d,e,f,g;for(c=[],e=function(a){return b(a)?c.push(a):void 0},f=0,g=a.length;g>f;f++)d=a[f],e(d);return c},a}(),b="undefined"!=typeof exports&&null!==exports?exports:window,b.Instafeed=a}.call(this),function(a){a.address=function(){var b,c=function(b){return b=a.extend(a.Event(b),function(){for(var b={},c=a.address.parameterNames(),d=0,e=c.length;e>d;d++)b[c[d]]=a.address.parameter(c[d]);return{value:a.address.value(),path:a.address.path(),pathNames:a.address.pathNames(),parameterNames:c,parameters:b,queryString:a.address.queryString()}}.call(a.address)),a(a.address).trigger(b),b},d=function(a){return Array.prototype.slice.call(a)},e=function(){return a().bind.apply(a(a.address),Array.prototype.slice.call(arguments)),a.address},f=function(){return a().unbind.apply(a(a.address),Array.prototype.slice.call(arguments)),a.address},g=function(){return J.pushState&&C.state!==b},h=function(){return("/"+K.pathname.replace(new RegExp(C.state),"")+K.search+(i()?"#"+i():"")).replace(N,"/")},i=function(){var a=K.href.indexOf("#");return-1!=a?K.href.substr(a+1):""},j=function(){return g()?h():i()},k=function(){return"javascript"},l=function(a){return a=a.toString(),(C.strict&&"/"!=a.substr(0,1)?"/":"")+a},m=function(a,b){return parseInt(a.css(b),10)},n=function(){if(!T){var a=j();decodeURI(X)!=decodeURI(a)&&(G&&7>E?K.reload():(G&&!P&&C.history&&M(q,50),X=a,o(B)))}},o=function(a){return M(p,10),c(x).isDefaultPrevented()||c(a?y:z).isDefaultPrevented()},p=function(){if("null"!==C.tracker&&C.tracker!==u){var c=a.isFunction(C.tracker)?C.tracker:H[C.tracker],d=(K.pathname+K.search+(a.address&&!g()?a.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");a.isFunction(c)?c(d):a.isFunction(H.urchinTracker)?H.urchinTracker(d):H.pageTracker!==b&&a.isFunction(H.pageTracker._trackPageview)?H.pageTracker._trackPageview(d):H._gaq!==b&&a.isFunction(H._gaq.push)&&H._gaq.push(["_trackPageview",decodeURI(d)])}},q=function(){var a=k()+":"+B+";document.open();document.writeln('<html><head><title>"+I.title.replace(/\'/g,"\\'")+"</title><script>var "+v+' = "'+encodeURIComponent(j()).replace(/\'/g,"\\'")+(I.domain!=K.hostname?'";document.domain="'+I.domain:"")+"\";</script></head></html>');document.close();";7>E?O.src=a:O.contentWindow.location.replace(a)},r=function(){if(Q&&-1!=R){var a,b,c=Q.substr(R+1).split("&");for(a=0;a<c.length;a++)b=c[a].split("="),/^(autoUpdate|history|strict|wrap)$/.test(b[0])&&(C[b[0]]=isNaN(b[1])?/^(true|yes)$/i.test(b[1]):0!==parseInt(b[1],10)),/^(state|tracker)$/.test(b[0])&&(C[b[0]]=b[1]);Q=u}X=j()},s=function(){if(!U){if(U=A,r(),a('a[rel*="address:"]').address(),C.wrap){var d=a("body");a("body > *").wrapAll('<div style="padding:'+(m(d,"marginTop")+m(d,"paddingTop"))+"px "+(m(d,"marginRight")+m(d,"paddingRight"))+"px "+(m(d,"marginBottom")+m(d,"paddingBottom"))+"px "+(m(d,"marginLeft")+m(d,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+v+'" style="height:100%;overflow:auto;position:relative;'+(F&&!window.statusbar.visible?"resize:both;":"")+'" />'),a("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),F&&a('<style type="text/css" />').appendTo("head").text("#"+v+"::-webkit-resizer { background-color: #fff; }")}G&&!P&&(d=I.getElementsByTagName("frameset")[0],O=I.createElement((d?"":"i")+"frame"),O.src=k()+":"+B,d?(d.insertAdjacentElement("beforeEnd",O),d[d.cols?"cols":"rows"]+=",0",O.noResize=A,O.frameBorder=O.frameSpacing=0):(O.style.display="none",O.style.width=O.style.height=0,O.tabIndex=-1,I.body.insertAdjacentElement("afterBegin",O)),M(function(){a(O).bind("load",function(){var a=O.contentWindow;X=a[v]!==b?a[v]:"",X!=j()&&(o(B),K.hash=X)}),O.contentWindow[v]===b&&q()},50)),M(function(){c("init"),o(B)},1),g()||(G&&E>7||!G&&P?H.addEventListener?H.addEventListener(w,n,B):H.attachEvent&&H.attachEvent("on"+w,n):L(n,50)),"state"in window.history&&a(window).trigger("popstate")}},t=function(a){return a=a.toLowerCase(),a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}},u=null,v="jQueryAddress",w="hashchange",x="change",y="internalChange",z="externalChange",A=!0,B=!1,C={autoUpdate:A,history:A,strict:A,wrap:B},D=function(){var a={},b=t(navigator.userAgent);return b.browser&&(a[b.browser]=!0,a.version=b.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),a}(),E=parseFloat(D.version),F=D.webkit||D.safari,G=!a.support.opacity,H=function(){try{return top.document!==b&&top.document.title!==b?top:window}catch(a){return window}}(),I=H.document,J=H.history,K=H.location,L=setInterval,M=setTimeout,N=/\/{2,9}/g;D=navigator.userAgent;var O,P="on"+w in H,Q=a("script:last").attr("src"),R=Q?Q.indexOf("?"):-1,S=I.title,T=B,U=B,V=A,W=B,X=j();if(G){E=parseFloat(D.substr(D.indexOf("MSIE")+4)),I.documentMode&&I.documentMode!=E&&(E=8!=I.documentMode?7:8);var Y=I.onpropertychange;I.onpropertychange=function(){Y&&Y.call(I),I.title!=S&&-1!=I.title.indexOf("#"+j())&&(I.title=S)}}if(J.navigationMode&&(J.navigationMode="compatible"),"complete"==document.readyState)var Z=setInterval(function(){a.address&&(s(),clearInterval(Z))},50);else r(),a(s);return a(window).bind("popstate",function(){decodeURI(X)!=decodeURI(j())&&(X=j(),o(B))}).bind("unload",function(){H.removeEventListener?H.removeEventListener(w,n,B):H.detachEvent&&H.detachEvent("on"+w,n)}),{bind:function(){return e.apply(this,d(arguments))},unbind:function(){return f.apply(this,d(arguments))},init:function(){return e.apply(this,["init"].concat(d(arguments)))},change:function(){return e.apply(this,[x].concat(d(arguments)))},internalChange:function(){return e.apply(this,[y].concat(d(arguments)))},externalChange:function(){return e.apply(this,[z].concat(d(arguments)))},baseURL:function(){var a=K.href;return-1!=a.indexOf("#")&&(a=a.substr(0,a.indexOf("#"))),/\/$/.test(a)&&(a=a.substr(0,a.length-1)),a},autoUpdate:function(a){return a!==b?(C.autoUpdate=a,this):C.autoUpdate},history:function(a){return a!==b?(C.history=a,this):C.history},state:function(a){if(a!==b){C.state=a;var c=h();return C.state!==b&&(J.pushState?"/#/"==c.substr(0,3)&&K.replace(C.state.replace(/^\/$/,"")+c.substr(2)):"/"!=c&&c.replace(/^\/#/,"")!=i()&&M(function(){K.replace(C.state.replace(/^\/$/,"")+"/#"+c)},1)),this}return C.state},strict:function(a){return a!==b?(C.strict=a,this):C.strict},tracker:function(a){return a!==b?(C.tracker=a,this):C.tracker},wrap:function(a){return a!==b?(C.wrap=a,this):C.wrap},update:function(){return W=A,this.value(X),W=B,this},title:function(a){return a!==b?(M(function(){S=I.title=a,V&&O&&O.contentWindow&&O.contentWindow.document&&(O.contentWindow.document.title=a,V=B)},50),this):I.title},value:function(a){if(a!==b){if(a=l(a),"/"==a&&(a=""),X==a&&!W)return;if(X=a,C.autoUpdate||W){if(o(A))return this;g()?J[C.history?"pushState":"replaceState"]({},"",C.state.replace(/\/$/,"")+(""===X?"/":X)):(T=A,F?C.history?K.hash="#"+X:K.replace("#"+X):X!=j()&&(C.history?K.hash="#"+X:K.replace("#"+X)),G&&!P&&C.history&&M(q,50),F?M(function(){T=B},1):T=B)}return this}return l(X)},path:function(a){if(a!==b){var c=this.queryString(),d=this.hash();return this.value(a+(c?"?"+c:"")+(d?"#"+d:"")),this}return l(X).split("#")[0].split("?")[0]},pathNames:function(){var a=this.path(),b=a.replace(N,"/").split("/");return("/"==a.substr(0,1)||0===a.length)&&b.splice(0,1),"/"==a.substr(a.length-1,1)&&b.splice(b.length-1,1),b},queryString:function(a){if(a!==b){var c=this.hash();return this.value(this.path()+(a?"?"+a:"")+(c?"#"+c:"")),this}return a=X.split("?"),a.slice(1,a.length).join("?").split("#")[0]},parameter:function(c,d,e){var f,g;if(d!==b){var h=this.parameterNames();for(g=[],d=d===b||d===u?"":d.toString(),f=0;f<h.length;f++){var i=h[f],j=this.parameter(i);"string"==typeof j&&(j=[j]),i==c&&(j=d===u||""===d?[]:e?j.concat([d]):[d]);for(var k=0;k<j.length;k++)g.push(i+"="+j[k])}return-1==a.inArray(c,h)&&d!==u&&""!==d&&g.push(c+"="+d),this.queryString(g.join("&")),this}if(d=this.queryString()){for(e=[],g=d.split("&"),f=0;f<g.length;f++)d=g[f].split("="),d[0]==c&&e.push(d.slice(1).join("="));if(0!==e.length)return 1!=e.length?e:e[0]}},parameterNames:function(){var b=this.queryString(),c=[];if(b&&-1!=b.indexOf("=")){b=b.split("&");for(var d=0;d<b.length;d++){var e=b[d].split("=")[0];-1==a.inArray(e,c)&&c.push(e)}}return c},hash:function(a){return a!==b?(this.value(X.split("#")[0]+(a?"#"+a:"")),this):(a=X.split("#"),a.slice(1,a.length).join("#"))}}}(),a.fn.address=function(b){return this.data("address")||this.on("click",function(c){if(c.shiftKey||c.ctrlKey||c.metaKey||2==c.which)return!0;var d=c.currentTarget;a(d).is("a")&&(c.preventDefault(),c=b?b.call(d):/address:/.test(a(d).attr("rel"))?a(d).attr("rel").split("address:")[1].split(" ")[0]:void 0===a.address.state()||/^\/?$/.test(a.address.state())?a(d).attr("href").replace(/^(#\!?|\.)/,""):a(d).attr("href").replace(new RegExp("^(.*"+a.address.state()+"|\\.)"),""),a.address.value(c))}).on("submit",function(c){var d=c.currentTarget;a(d).is("form")&&(c.preventDefault(),c=a(d).attr("action"),d=b?b.call(d):(-1!=c.indexOf("?")?c.replace(/&$/,""):c+"?")+a(d).serialize(),a.address.value(d))}).data("address",!0),this}}(jQuery);
//# sourceMappingURL=plugins.js.map